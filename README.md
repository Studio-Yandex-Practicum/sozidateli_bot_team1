# Телеграм-бот "Созидатели"

Проект телеграмм бота АНО Созидатели

# Запуск проекта (локальный)

Предполагаем, что у Вас уже установлен Docker (и WSL в случае старта на windows)


Клонируем проект:
```
git clone git@github.com:Studio-Yandex-Practicum/sozidateli_bot_team1.git
```

Заходим в папку
```
cd sozidateli_bot_team1
```

Запускаем:
```
docker compose up
```

# Локальный запуск панели администратора

Заходим в папку
```
cd sozi_adm
```

В проекте использован менеджер пакетов Poetry.
Чтобы работать с виртуальным окружением poetry локально, его нужно установить:
```
https://python-poetry.org/docs/master/#installing-with-the-official-installer
```
И далее в папке sozi_adm выполнить 

```
poetry install
```

Далее запускаем сервер:

```
poetry run python manage.py runserver
```

## Admin - API

Панель администратора, содержит в себе базу данных, и имеет REST API для внешнего взаимодействия.

```
GET на 127.0.0.1:8000/api/ - Общий список ендпоинтов
GET на 127.0.0.1:8000/api/meeting/ - получение актуальной встречи
GET на 127.0.0.1:8000/api/candidate/ - получение списка кандидатов
```

# Локальный запуск бота

Заходим в папку
```
cd tg_bot
```

Для установки пакетов через менеджер Poetry, выполним: 

```
poetry install
```

Далее запускаем сервер:

```
poetry run python main.py
```




# Переменные окружения

Для корректной работы, требуется файл .env с переменными окружения:
```
BOT_TOKEN = "1111111111:1111111111111111111111111111111111111111111"
SECRET_KEY = "qwertyqwertyqwertyqwertyqwertyqwertyqwertyqwertyqwerty"
DEBUG="False"
LOCAL="False"
ALLOWED_HOSTS="admin 127.0.0.1 localhost your.domain.com"
ADMINS="111111111 22222222"
```

В которых, BOT_TOKEN - это токен телеграмм-бота, полученный от BotFather.

SECRET_KEY - уникальный секретный ключ, для работы панели администратора. Можно придумать самостоятельно из набора случайных символов.

DEBUG - Отладочный режим работы панели администратора, в повседневной работы должно стоять False.

LOCAL - Задает режим запуска. В повседневной работе должно стоять False. Для диагнозтики используется локальный запуск (без контейнеров), тогда необходимо включить True.

ALLOWED HOSTS - Список хостов, разрешенных для подключения. Обязательно присутсвие admin 127.0.0.1 localhost, и далее необходимо добавить имя и адрес используемого сервера.

ADMINS - Список telegram-ID пользователей (цифровой индентификатор), которые являются администраторами системы и получают доступ к расширенному меню - просмотру кандидатов, изменению даты встречи.

